{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nathan\\\\Documents\\\\CSULB stuff\\\\cecs327\\\\Networking-class\\\\JS PRACTICE\\\\client\\\\src\\\\CodeEditor.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/theme/material.css';\nimport 'codemirror/mode/python/python';\nimport 'codemirror/addon/edit/closetag';\nimport 'codemirror/addon/edit/closebrackets';\nimport CodeMirror from \"codemirror\";\nimport io from 'socket.io-client';\nimport codemirror from 'codemirror';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CodeEditor = () => {\n  _s();\n\n  const {\n    id: documentId\n  } = useParams(); //const [socket, setSocket] = useState()\n\n  const [codemirror] = useState();\n  useEffect(() => {\n    //text editor properties\n    const editor = CodeMirror.fromTextArea(document.getElementById('codemirror'), {\n      lineNumbers: true,\n      keymap: 'sublime',\n      theme: 'material',\n      autoCloseTags: true,\n      autoCloseBrackets: true,\n      mode: 'python'\n    });\n    editor.setSize(null, \"100%\"); //sets websocket\n\n    const socket = io('http://localhost:3001/', {\n      transports: ['websocket']\n    }); //if (socket == null) return\n    //if a document is on the same id it will set the data to that\n\n    socket.once(\"load-document\", data => {\n      editor.setValue(data);\n    });\n    socket.emit('get-doc', documentId); //sends out changes\n\n    editor.on('change', (instance, changes) => {\n      const {\n        origin\n      } = changes;\n\n      if (origin !== 'setValue') {\n        socket.emit('send-changes', instance.getValue());\n      }\n    }); //recieves changes and inserts them into the doc\n\n    socket.on('receive-changes', delta => {\n      editor.setValue(delta);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"editor_container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editor-Title\",\n      children: \"Using python\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: \"600px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n        id: \"codemirror\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CodeEditor, \"8xkdgKn8CcJNC8SxaOKK/TZZ/B8=\", false, function () {\n  return [useParams];\n});\n\n_c = CodeEditor;\nexport default CodeEditor;\n\nvar _c;\n\n$RefreshReg$(_c, \"CodeEditor\");","map":{"version":3,"sources":["C:/Users/Nathan/Documents/CSULB stuff/cecs327/Networking-class/JS PRACTICE/client/src/CodeEditor.js"],"names":["React","useEffect","useState","CodeMirror","io","codemirror","useParams","CodeEditor","id","documentId","editor","fromTextArea","document","getElementById","lineNumbers","keymap","theme","autoCloseTags","autoCloseBrackets","mode","setSize","socket","transports","once","data","setValue","emit","on","instance","changes","origin","getValue","delta","height"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAO,+BAAP;AACA,OAAO,+BAAP;AACA,OAAO,+BAAP;AACA,OAAO,gCAAP;AACA,OAAO,qCAAP;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAAQC,SAAR,QAAwB,kBAAxB;;;AAEA,MAAMC,UAAU,GAAG,MAAM;AAAA;;AACvB,QAAM;AAACC,IAAAA,EAAE,EAAEC;AAAL,MAAmBH,SAAS,EAAlC,CADuB,CAEvB;;AACA,QAAM,CAACD,UAAD,IAAeH,QAAQ,EAA7B;AAKAD,EAAAA,SAAS,CAAC,MAAM;AACd;AACA,UAAMS,MAAM,GAAGP,UAAU,CAACQ,YAAX,CACbC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CADa,EAEb;AACEC,MAAAA,WAAW,EAAE,IADf;AAEEC,MAAAA,MAAM,EAAE,SAFV;AAGEC,MAAAA,KAAK,EAAE,UAHT;AAIEC,MAAAA,aAAa,EAAE,IAJjB;AAKEC,MAAAA,iBAAiB,EAAE,IALrB;AAMEC,MAAAA,IAAI,EAAE;AANR,KAFa,CAAf;AAYAT,IAAAA,MAAM,CAACU,OAAP,CAAe,IAAf,EAAqB,MAArB,EAdc,CAgBd;;AACA,UAAMC,MAAM,GAAGjB,EAAE,CAAC,wBAAD,EAA2B;AAC1CkB,MAAAA,UAAU,EAAE,CAAC,WAAD;AAD8B,KAA3B,CAAjB,CAjBc,CAqBd;AAEA;;AACAD,IAAAA,MAAM,CAACE,IAAP,CAAY,eAAZ,EAA6BC,IAAI,IAAI;AACnCd,MAAAA,MAAM,CAACe,QAAP,CAAgBD,IAAhB;AAED,KAHD;AAIAH,IAAAA,MAAM,CAACK,IAAP,CAAY,SAAZ,EAAuBjB,UAAvB,EA5Bc,CA+Bd;;AACAC,IAAAA,MAAM,CAACiB,EAAP,CAAU,QAAV,EAAoB,CAACC,QAAD,EAAWC,OAAX,KAAuB;AACzC,YAAM;AAACC,QAAAA;AAAD,UAAWD,OAAjB;;AACA,UAAIC,MAAM,KAAK,UAAf,EAA2B;AACzBT,QAAAA,MAAM,CAACK,IAAP,CAAY,cAAZ,EAA4BE,QAAQ,CAACG,QAAT,EAA5B;AACD;AACF,KALD,EAhCc,CAwCd;;AACAV,IAAAA,MAAM,CAACM,EAAP,CAAU,iBAAV,EAA6BK,KAAK,IAAI;AACpCtB,MAAAA,MAAM,CAACe,QAAP,CAAgBO,KAAhB;AACD,KAFD;AAMD,GA/CQ,EA+CN,EA/CM,CAAT;AAoDA,sBACE;AAAK,IAAA,SAAS,EAAG,kBAAjB;AAAA,4BACE;AAAK,MAAA,SAAS,EAAG,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAIE;AAAK,MAAA,KAAK,EAAI;AAACC,QAAAA,MAAM,EAAE;AAAT,OAAd;AAAA,6BACE;AAAU,QAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAJF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAWD,CAvED;;GAAM1B,U;UACqBD,S;;;KADrBC,U;AAyEN,eAAeA,UAAf","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport 'codemirror/lib/codemirror.css'\r\nimport 'codemirror/theme/material.css'\r\nimport 'codemirror/mode/python/python'\r\nimport 'codemirror/addon/edit/closetag'\r\nimport 'codemirror/addon/edit/closebrackets'\r\nimport CodeMirror from \"codemirror\"\r\nimport io from 'socket.io-client'\r\nimport codemirror from 'codemirror'\r\nimport {useParams} from 'react-router-dom'\r\n\r\nconst CodeEditor = () => {\r\n  const {id: documentId} = useParams()\r\n  //const [socket, setSocket] = useState()\r\n  const [codemirror] = useState()\r\n\r\n  \r\n \r\n\r\n  useEffect(() => {\r\n    //text editor properties\r\n    const editor = CodeMirror.fromTextArea(\r\n      document.getElementById('codemirror'), \r\n      {\r\n        lineNumbers: true,\r\n        keymap: 'sublime',\r\n        theme: 'material',\r\n        autoCloseTags: true,\r\n        autoCloseBrackets: true,\r\n        mode: 'python',\r\n      }\r\n    )\r\n    \r\n    editor.setSize(null, \"100%\")\r\n\r\n    //sets websocket\r\n    const socket = io('http://localhost:3001/', {\r\n      transports: ['websocket']\r\n    })\r\n\r\n    //if (socket == null) return\r\n\r\n    //if a document is on the same id it will set the data to that\r\n    socket.once(\"load-document\", data => {\r\n      editor.setValue(data)\r\n      \r\n    })\r\n    socket.emit('get-doc', documentId)\r\n\r\n\r\n    //sends out changes\r\n    editor.on('change', (instance, changes) => {\r\n      const {origin} = changes\r\n      if (origin !== 'setValue') {\r\n        socket.emit('send-changes', instance.getValue())\r\n      }\r\n    })\r\n\r\n    \r\n    //recieves changes and inserts them into the doc\r\n    socket.on('receive-changes', delta => {\r\n      editor.setValue(delta)\r\n    })\r\n\r\n    \r\n\r\n  }, [])\r\n\r\n  \r\n\r\n\r\n  return (\r\n    <div className = \"editor_container\">\r\n      <div className = \"editor-Title\">\r\n        Using python\r\n      </div>\r\n      <div style = {{height: \"600px\"}}>\r\n        <textarea id=\"codemirror\"></textarea>\r\n      </div>\r\n    </div>\r\n    \r\n  )\r\n}\r\n\r\nexport default CodeEditor"]},"metadata":{},"sourceType":"module"}